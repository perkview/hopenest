{% extends "base.html" %}
{% block content %}

<!-- ===== HERO SECTION ===== -->
<section class="position-relative d-flex align-items-center text-center text-dark"
  style="height: 100vh; background: url('https://source.unsplash.com/1600x700/?volunteer,trees,food') center/cover no-repeat;">
  <div class="position-absolute top-0 start-0 w-100 h-100" style="background: rgba(255,255,255,0.55);"></div>

  <div class="container position-relative">
    <h1 class="display-4 fw-bold text-primary">Together, Let‚Äôs Serve Meals & Plant Trees üå±üç≤</h1>
    <p class="lead mb-4 text-muted">Every small contribution creates a big impact.</p>
    <a href="/donate" class="btn btn-primary btn-lg rounded-pill shadow px-5">Donate Now</a>
  </div>
</section>

<!-- ===== LIVE PROJECTS / DONATION GOALS ===== -->
<section class="py-5" style="background-color: #F5F5F5;">
  <div class="container">
    <h2 class="text-center fw-bold text-primary mb-5">Active Donation Goals</h2>
    <div class="row g-4">
      {% for project in projects %}
      <div class="col-md-6">
        <div class="card shadow-sm border-0 rounded-4 h-100 bg-white">
          <div class="card-body">
            <h5 class="fw-bold mb-3">{{ project.title }}</h5>
            <div class="progress mb-2" style="height: 10px;">
              {% widthratio project.collected_amount project.goal_amount 100 as percent %}
              <div class="progress-bar bg-success" style="width: {{ percent }}%;"></div>
            </div>

            <p class="mb-1 text-muted">‚Çπ{{ project.collected_amount }} of ‚Çπ{{ project.goal_amount }} collected</p>
            {% if project.collected_amount >= project.goal_amount %}
            <span class="badge bg-success">Goal Achieved</span>
            {% else %}
            <span class="badge bg-warning text-dark">Needs More Funds</span>
            {% endif %}
            <div class="mt-3">
              <a href="/donate" class="btn btn-outline-primary rounded-pill">Contribute Now</a>
            </div>
          </div>
        </div>
      </div>
      {% empty %}
      <p class="text-center text-muted">No active projects currently.</p>
      {% endfor %}
    </div>
  </div>
</section>

<!-- ===== HOW IT WORKS ===== -->
<section class="py-5">
  <div class="container text-center">
    <h2 class="fw-bold text-primary mb-5">How It Works</h2>
    <div class="row g-4">
      <div class="col-md-4">
        <div class="card border-0 shadow-sm p-4 h-100 bg-white">
          <h4 class="fw-bold">1Ô∏è‚É£ Choose a Cause</h4>
          <p class="text-muted">Select meals, trees, or any other project you love.</p>
        </div>
      </div>
      <div class="col-md-4">
        <div class="card border-0 shadow-sm p-4 h-100 bg-white">
          <h4 class="fw-bold">2Ô∏è‚É£ Donate Securely</h4>
          <p class="text-muted">Contribute using PayPal, Stripe, or local options.</p>
        </div>
      </div>
      <div class="col-md-4">
        <div class="card border-0 shadow-sm p-4 h-100 bg-white">
          <h4 class="fw-bold">3Ô∏è‚É£ Track Impact</h4>
          <p class="text-muted">See real-time updates and transparent reports.</p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- ===== IMPACT & ACHIEVEMENTS ===== -->
<section class="py-5" style="background-color: #F5F5F5;">
  <div class="container text-center">
    <h2 class="fw-bold text-primary mb-5">Our Impact</h2>
    <div class="row g-4">
      {% for key, value in impact.items %}
      <div class="col-md-3">
        <h3 class="fw-bold text-success">{{ value|default:"0" }}</h3>
        <p class="text-muted">{{ key }}</p>
      </div>
      {% endfor %}
    </div>
    <div class="mt-4">
      <a href="/about" class="btn btn-outline-primary rounded-pill">See Full Achievements</a>
    </div>
  </div>
</section>


<!-- ===== FINAL CTA ===== -->
<section class="position-relative d-flex align-items-center text-center text-dark"
  style="height: 60vh; background: url('https://source.unsplash.com/1600x500/?smile,helping') center/cover no-repeat;">
  <div class="position-absolute top-0 start-0 w-100 h-100" style="background: rgba(255,255,255,0.55);"></div>
  <div class="container position-relative">
    <h2 class="display-5 fw-bold mb-4 text-primary">Be the reason someone smiles today üíô</h2>
    <a href="/donate" class="btn btn-primary btn-lg rounded-pill shadow px-5">Donate Now</a>
  </div>
</section>

{% endblock %}